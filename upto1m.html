<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сборки до 1.000.000 руб. - IntelligentPC</title>
    <link rel="stylesheet" href="cartstyle.css">
</head>

<body>

    <header>
        <div class="back-to-home">
            <a href="index.html">На главную</a>
        </div>
        <div class="logo">IntelligentPC</div>
        <div class="contact-info">
            <span class="phone">+7 (962) 910-91-44 (г.Москва, Ленинский проспект 45)</span>
        </div>
    </header>

    <nav>
        <a href="support.html">Поддержка</a>
        <a href="servers.html">Серверы</a>
        <a href="services.html">Услуги</a>
    </nav>

    <main>

        
        <div class="right-column">
            <h2 class="page-title">Сборки до 1.000.000 руб.</h2>
            <div class="content-section">
                <p>Здесь вы найдете компьютеры стоимостью до 1.000.000 руб.</p>
            </div>

            <div class="product-list">
    <div class="product-card" data-id="attacker" data-name="Attacker" data-price="95500">
        <a href="product-page.html" class="product-link">
            <img src="pic/to1m1.png" alt="Attacker">
            <h3>Attacker</h3>
            <p class="availability">
                <span class="status-icon"></span> На заказ, 5-8 дн.
            </p>
            <p class="price">от 95 500 ₽</p>
            <p class="monthly-payment">или от 3 550 ₽ в месяц</p>
            <button class="configure-button add-to-cart-button">Конфигурировать и купить</button>
            <a class="details-button" href="product-page.html">Подробнее</a>
            <div class="specs">
                <div class="fps">
                    <span class="fps-value">69</span>
                    <span>FPS</span>
                    <p class="settings">Ультра-настройки</p>
                </div>
            </div>
        </a>
    </div>
    
                </a>
            </div>

            <div class="product-list">
    <div class="product-card" data-id="attacker" data-name="Attacker" data-price="95500">
        <a href="product-page.html" class="product-link">
            <img src="pic/to1m2.png" alt="Attacker">
            <h3>Attacker</h3>
            <p class="availability">
                <span class="status-icon"></span> На заказ, 5-8 дн.
            </p>
            <p class="price">от 95 500 ₽</p>
            <p class="monthly-payment">или от 3 550 ₽ в месяц</p>
            <button class="configure-button add-to-cart-button">Конфигурировать и купить</button>
            <a class="details-button" href="product-page.html">Подробнее</a>
            <div class="specs">
                <div class="fps">
                    <span class="fps-value">69</span>
                    <span>FPS</span>
                    <p class="settings">Ультра-настройки</p>
                </div>
            </div>
        </a>
    </div>
    
                </a>
            </div>

          <div class="product-list">
    <div class="product-card" data-id="attacker" data-name="Attacker" data-price="95500">
        <a href="product-page.html" class="product-link">
            <img src="pic/to1m3.png" alt="Attacker">
            <h3>Attacker</h3>
            <p class="availability">
                <span class="status-icon"></span> На заказ, 5-8 дн.
            </p>
            <p class="price">от 95 500 ₽</p>
            <p class="monthly-payment">или от 3 550 ₽ в месяц</p>
            <button class="configure-button add-to-cart-button">Конфигурировать и купить</button>
            <a class="details-button" href="product-page.html">Подробнее</a>
            <div class="specs">
                <div class="fps">
                    <span class="fps-value">69</span>
                    <span>FPS</span>
                    <p class="settings">Ультра-настройки</p>
                </div>
            </div>
        </a>
    </div>
    
                </a>
            </div>

    </main>

    <aside id="cart">
        <h2>Корзина</h2>
        <ul id="cart-items">
            <!-- Здесь будут добавляться товары -->
        </ul>
        <div id="cart-total">
            Итого: 0 руб.
        </div>
    </aside>

    <script>
       document.addEventListener('DOMContentLoaded', function() {
    const cartItemsList = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    const clearCartButton = document.getElementById('clear-cart-button'); // Получаем кнопку очистки корзины
    const addToCartButtons = document.querySelectorAll('.add-to-cart-button');

    let cart = [];

    // Функция для обновления отображения корзины
    function updateCartDisplay() {
        cartItemsList.innerHTML = ''; // Очищаем список
        let total = 0;

        cart.forEach(item => {
            const listItem = document.createElement('li');
            listItem.classList.add('cart-item');
            listItem.innerHTML = `
                <span class="cart-item-name">${item.name}</span>
                <div class="cart-item-quantity">
                    <button class="decrease" data-id="${item.id}" aria-label="Уменьшить количество">-</button>
                    <span>${item.quantity}</span>
                    <button class="increase" data-id="${item.id}" aria-label="Увеличить количество">+</button>
                </div>
                <span>${(item.price * item.quantity).toFixed(2)} руб.</span>
            `;
            cartItemsList.appendChild(listItem);
            total += item.price * item.quantity;
        });

        cartTotalElement.textContent = `Итого: ${total.toFixed(2)} руб.`;

        // Обновляем localStorage
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Функция для добавления товара в корзину
    function addItemToCart(id, name, price) {
        const existingItem = cart.find(item => item.id === id);

        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({
                id: id,
                name: name,
                price: price,
                quantity: 1
            });
        }

        updateCartDisplay();
    }

    // Функция для изменения количества товара
    function changeQuantity(id, amount) {
        const item = cart.find(item => item.id === id);
        if (!item) return;

        item.quantity += amount;

        if (item.quantity <= 0) {
            cart = cart.filter(item => item.id !== id); // Удаляем из корзины
        }

        updateCartDisplay();
    }

    // Функция для очистки корзины
    function clearCart() {
        cart = [];
        updateCartDisplay();
    }


       addToCartButtons.forEach(button => {
        button.addEventListener('click', function(event) {
        event.preventDefault()
            const productCard = this.closest('.product-card');
            const id = productCard.dataset.id;
            const name = productCard.dataset.name;
            const price = parseFloat(productCard.dataset.price);

            addItemToCart(id, name, price);
        });
    });
        // Обработчики событий для кнопок увеличения/уменьшения количества
    cartItemsList.addEventListener('click', function(event) {
        if (event.target.classList.contains('decrease')) {
            const id = event.target.dataset.id;
            changeQuantity(id, -1);
        } else if (event.target.classList.contains('increase')) {
            const id = event.target.dataset.id;
            changeQuantity(id, 1);
        }
    });

      // Обработчик событий для кнопки "Очистить корзину"
    if (clearCartButton) {
        clearCartButton.addEventListener('click', function() {
            clearCart();
        });
    } else {
        console.error("Кнопка 'Очистить корзину' не найдена!");
    }

    // Загрузка корзины из localStorage при загрузке страницы
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
        cart = JSON.parse(storedCart);
        updateCartDisplay();
    }
});
    </script>
</body>

</html>